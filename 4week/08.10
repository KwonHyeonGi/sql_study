## 08.10 sql 학습
##  핵심 문법별로 나눠서 복습하기

SELECT, FROM, WHERE: 
  1. orders 테이블의 모든 데이터를 조회합니다. 
      select * from orders;
      
  2. product_name이 '마우스'인 주문의 order_id와 quantity를 조회합니다.
      select order_id, quantity from orders where product_name = '마우스';
      
  3. product_name이 '노트북'이거나 '키보드'이면서, 수량(quantity)이 1개인 주문을 조회합니다
      select order_id, quantity from orders where product_name in('노트북', '키보드') and quantity = 1;
  
  4. 이름이 '김'으로 시작하는 사용자를 조회합니다.
      select name from orders where name like '김%';

GROUP BY, HAVING: 
  1. 상품(product_name)별로 총 판매 수량(quantity)을 계산합니다.
      select product_name, sum(quantity) as total_quan from orders group by product_name;

  2. 총 판매 수량이 2개 이상인 상품들만 조회합니다.
      select product_name, sum(quantity) as total_quan from orders group by product_name having total_quan >= 2;

JOIN: 
  1. 주문 기록이 있는 고객의 이름과 주문 상품을 조회합니다.
      select u.name, o.product_name
      from users as u
      inner join orders as o
      on u.customer_id = o.customer_id;

  2. 모든 고객의 이름을 조회하고, 주문 기록이 있는 고객의 상품명을 함께 보여줍니다.
      select u.name, o.product_name
      from users as u
      left join orders as o
      on u.customer_id = o.customer_id;

서브쿼리, CTE (WITH):
  1. 평균 가격보다 비싼 상품을 조회합니다.
      select *
      from orders
      where price > (select avg(price) from orders);

  2. 총 판매액이 10만원 이상인 주문을 먼저 임시로 만들고, 그 결과를 조회합니다.
      with high10 as (select order_id, product_name, price * quantity as total_price
                      from orders
                      where total_price >= 100000)
      select order_id, product_name
      from high10;

  
이를 통해 지금까지 공부한 것을 다시 복습해봄.
